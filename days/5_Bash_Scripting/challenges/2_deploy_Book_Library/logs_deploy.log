[2025-07-27 05:57:06 +0000] [7547] [CRITICAL] WORKER TIMEOUT (pid:7552)
[2025-07-27 05:57:06 +0000] [7552] [ERROR] Error handling request (no URI read)
Traceback (most recent call last):
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/workers/sync.py", line 133, in handle
    req = next(parser)
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/http/parser.py", line 41, in __next__
    self.mesg = self.mesg_class(self.cfg, self.unreader, self.source_addr, self.req_count)
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/http/message.py", line 259, in __init__
    super().__init__(cfg, unreader, peer_addr)
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/http/message.py", line 60, in __init__
    unused = self.parse(self.unreader)
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/http/message.py", line 271, in parse
    self.get_data(unreader, buf, stop=True)
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/http/message.py", line 262, in get_data
    data = unreader.read()
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/http/unreader.py", line 36, in read
    d = self.chunk()
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/http/unreader.py", line 63, in chunk
    return self.sock.recv(self.mxchunk)
  File "/home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages/gunicorn/workers/base.py", line 204, in handle_abort
    sys.exit(1)
SystemExit: 1
[2025-07-27 05:57:06 +0000] [7552] [INFO] Worker exiting (pid: 7552)
[2025-07-27 05:57:07 +0000] [13097] [INFO] Booting worker with pid: 13097
[2025-07-27 06:13:57 +0000] [7547] [INFO] Handling signal: term
[2025-07-27 06:13:57 +0000] [7550] [INFO] Worker exiting (pid: 7550)
[2025-07-27 06:13:57 +0000] [7551] [INFO] Worker exiting (pid: 7551)
[2025-07-27 06:13:57 +0000] [7553] [INFO] Worker exiting (pid: 7553)
[2025-07-27 06:13:57 +0000] [13097] [INFO] Worker exiting (pid: 13097)
[2025-07-27 06:13:57 +0000] [7547] [INFO] Shutting down: Master

[7;35mDeployment on 29/07/2025 at 03:19:26[0m
[1;33m
=== Starting the Book Library deployment ===[0m
[1;33m
Updating packages...[0m

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Get:1 http://security.ubuntu.com/ubuntu focal-security InRelease [128 kB]
Hit:2 http://archive.ubuntu.com/ubuntu focal InRelease
Get:3 https://cli.github.com/packages stable InRelease [3917 B]
Hit:4 http://ppa.launchpad.net/git-core/ppa/ubuntu focal InRelease
Get:5 http://archive.ubuntu.com/ubuntu focal-updates InRelease [128 kB]
Get:6 http://archive.ubuntu.com/ubuntu focal-backports InRelease [128 kB]
Fetched 387 kB in 2s (219 kB/s)
Reading package lists...
Building dependency tree...
Reading state information...
6 packages can be upgraded. Run 'apt list --upgradable' to see them.
[1;33m
Installing dependencies...[0m
[0;32m
'python3' is already installed![0m
[0;32m
'python3-pip' is already installed![0m
[0;32m
'python3-venv' is already installed![0m
[0;32m
'nginx' is already installed![0m
[0;32m
'git' is already installed![0m
[0;32m
The nginx service is already enabled and running![0m
[0;31m
'devops-static-web' already exists and is not empty![0m
Do you want to delete it? [y/n]: [1;33m
Configuring virtual environment...[0m
[1;33m
Installing all required packages...[0m
Requirement already satisfied: certifi in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (2025.7.14)
Requirement already satisfied: click in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (8.1.8)
Requirement already satisfied: Flask in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (3.0.3)
Requirement already satisfied: Flask-SQLAlchemy in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (3.1.1)
Requirement already satisfied: Flask-WTF in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (1.2.1)
Requirement already satisfied: itsdangerous in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (2.2.0)
Requirement already satisfied: Jinja2 in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (3.1.6)
Requirement already satisfied: MarkupSafe in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (2.1.5)
Requirement already satisfied: SQLAlchemy in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.0.41)
Requirement already satisfied: Werkzeug in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (3.0.6)
Requirement already satisfied: WTForms in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (3.1.2)
Requirement already satisfied: importlib-metadata>=3.6.0; python_version < "3.10" in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from Flask->-r requirements.txt (line 3)) (8.5.0)
Requirement already satisfied: blinker>=1.6.2 in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from Flask->-r requirements.txt (line 3)) (1.8.2)
Requirement already satisfied: typing-extensions>=4.6.0 in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from SQLAlchemy->-r requirements.txt (line 9)) (4.13.2)
Requirement already satisfied: greenlet>=1; python_version < "3.14" and (platform_machine == "aarch64" or (platform_machine == "ppc64le" or (platform_machine == "x86_64" or (platform_machine == "amd64" or (platform_machine == "AMD64" or (platform_machine == "win32" or platform_machine == "WIN32")))))) in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from SQLAlchemy->-r requirements.txt (line 9)) (3.1.1)
Requirement already satisfied: zipp>=3.20 in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from importlib-metadata>=3.6.0; python_version < "3.10"->Flask->-r requirements.txt (line 3)) (3.20.2)
[1;33m
Installing 'gunicorn'...[0m
Requirement already satisfied: gunicorn in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (23.0.0)
Requirement already satisfied: packaging in /home/vagrant/venvs/devops-static-web/lib/python3.8/site-packages (from gunicorn) (25.0)
[1;33m
Starting Gunicorn...[0m
[2025-07-29 03:19:40 +0000] [18345] [INFO] Starting gunicorn 23.0.0
[2025-07-29 03:19:40 +0000] [18345] [INFO] Listening at: http://0.0.0.0:8000 (18345)
[2025-07-29 03:19:40 +0000] [18345] [INFO] Using worker: sync
[2025-07-29 03:19:40 +0000] [18348] [INFO] Booting worker with pid: 18348
[2025-07-29 03:19:40 +0000] [18349] [INFO] Booting worker with pid: 18349
[2025-07-29 03:19:41 +0000] [18350] [INFO] Booting worker with pid: 18350
[2025-07-29 03:19:41 +0000] [18351] [INFO] Booting worker with pid: 18351
[1;33m
Configuring Nginx...[0m
[0;34m
Creating booklibrary...[0m
[0;34m
Linking booklibrary Nginx's enabled sites...[0m
[0;34m
Checking Nginx configuration...[0m
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
[0;32m
Nginx configuration is OK![0m
[0;34m
Reloading Nginx...[0m
[1;33m
Checking services...[0m
[0;32m
âœ“ Nginx is active![0m
[0;32m
âœ“ Gunicorn is running![0m
[0;32m
âœ“ Port 8000 is in use![0m
[0;32m
âœ“ Gunicorn is responding correctly![0m
[1;33m
=== Deployment completed ===[0m
[1;33m
Look 'logs_deploy.log' for details.[0m
[1;33mThe app should be available in: http://10.0.2.15
[0m
